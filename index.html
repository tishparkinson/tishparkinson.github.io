<!DOCTYPE html>
<html>
<head>
<style>
h1 {
	border-bottom: 3px solid #cc9900;
	color: #996600;
	font-size: 30px;
}
table, th , td  {
	border: 1px solid grey;
	border-collapse: collapse;
	padding: 5px;
}

/*	Highlight every other row of the table-layout */
table tr:nth-child(odd)		{ background-color: #f1f1f1;	}

/*	If the DOM object has a class of highlight make the text blue	*/
.colorCodeCategory				{ background-color: gray;		}

/*	When the DOM object has a class of clicked set the background color to lightblue	*/
.clicked					{ background-color: lightblue;	}

/*	When the DOM object has a class of slidingText move and transform the text	*/
.slidingText				{ -webkit-animation: cssAnimateSlidingText 3s ease 0s 1 forwards }

/*	When the DOM object has a class of wiggle-me on Hover wiggle the text 	*/
.wiggle-me:hover			{ -ms-animation:wiggle .3s 2;-moz-animation:wiggle .3s 2;-webkit-animation:wiggle .3s 2;animation:wiggle .3s 2;}

@-ms-keyframes		wiggle	{0%{	-ms-transform:rotate(3deg);}50%{	-ms-transform:rotate(-3deg);}100%{	  -ms-transform:rotate(3deg);}}
@-moz-keyframes		wiggle	{0%{   -moz-transform:rotate(3deg);}50%{   -moz-transform:rotate(-3deg);}100%{   -moz-transform:rotate(3deg);}}
@-webkit-keyframes	wiggle	{0%{-webkit-transform:rotate(3deg);}50%{-webkit-transform:rotate(-3deg);}100%{-webkit-transform:rotate(3deg);}}
@keyframes			wiggle	{0%{		transform:rotate(3deg);}50%{		transform:rotate(-3deg);}100%{		  transform:rotate(3deg);}}

@-webkit-keyframes cssAnimateSlidingText {
	0%		{-webkit-transform: rotate(0deg)  scale(1) skew(0deg)   translate(0px);}
	25%		{-webkit-transform: rotate(45deg) scale(2) skew(-45deg) translate(120px);}
	75%		{-webkit-transform: rotate(0deg)  scale(1) skew(0deg)   translate(240px);}
	100%	{-webkit-transform: rotate(0deg)  scale(1) skew(0deg)   translate(0px);}
}

.animateTheShape {
	width: 10px;
	height: 10px;
	position: relative;
	-webkit-animation-name: animateShape; /* Chrome, Safari, Opera */
	-webkit-animation-duration: 2s; /* Chrome, Safari, Opera */
	animation-name: animateShape;
	animation-duration: 2s;
}

/*  */
@-webkit-keyframes animateShape {
	0%   {background-color:red;}
	25%  {background-color:yellow; border-radius: 50%;}
	50%  {background-color:blue;   border-radius:  0%;}
	75%  {background-color:green;  border-radius: 50%;}
	100% {background-color:cyan;   }
}
/* Standard syntax Safari, Chrome, FireFox */
@keyframes animateShape {
	0%   {background-color:blue;}
	33%  {background-color:green;  border-radius: 50%;}
	66%  {background-color:yellow; border-radius: 0%; }
	100% {background-color:orange; border-radius: 50%;}
}
</style>
</head>
<body>

<h1>Class List</h1>

I have tried to keep this kind of minimal so you can see what is going on. This works best on <b>Safari</b>. I have not put all the code in for all browsers<br><br>
<li>Press <B>View</B>. The class list will display all students in the class.<br>
	Local Storage will be created for each students entry. Key is "Last, First" and the value is a JSON object of student data
<li>Click on an <B>Entry</B> column item. The Student Name field will toggle between lightblue and normal. <br>
    The even numbered Entities will slide around on the screen for a few seconds
    and Student details will be presented above the table.
<li>Click on the <B>Student Name</B> and that student entry will be <B>deleted</B> from the table and from Local Storage
<li>Click on <B>Clear Local Storage</B> to clear ALL of the entries in the local storage.<br>
<li>Run your mouse over the <B>Class</B> column. Other class members of the same year will be highlighted<br><br>

<input type="button" value="View" onclick="getJSON()"/>
<input type="button" value="Clear Local Storage" onclick="clearLS()"/>
<div id="div"><br><br><br></div>
<div id="id01"></div>

<script>
function getJSON()
{
	var xmlhttp = new XMLHttpRequest();
	var url = "commonitems.json";
	
	xmlhttp.onreadystatechange=function()
	{
		if (xmlhttp.readyState == 4 && xmlhttp.status == 200) 
		{
			buildTable(xmlhttp.responseText);
		}
	}
	xmlhttp.open("GET", url, true);
	xmlhttp.send();
}

function buildTable(response) 
{
	document.getElementById("div").innerHTML = "<br><br><br>";
	var prepopulatedlist = JSON.parse(response);
	var out =	"<table id=groceryList> <th>Item</th>"	+
						"<th>Category</th>"	+
						"<th>Priority</th>";

		
		//	save the student record to Local Storage. The key will be Last, First
		if(typeof(Storage) !== "undefined") 
		{
			localStorage.setItem(prepopulatedlist[i].item + ", " + prepopulatedlist[i].category, JSON.stringify(prepopulatedlist[i]));
		}
		else 
		{
			document.getElementById("div").innerHTML = "Your browser doesn't support local storage"; 
		} 

	out += "</table>";
	
	document.getElementById("id01").innerHTML = out;
}
function colorCodeCategory(obj)
{
	searchCategory = obj.innerText;
	var rowCount = document.getElementById("studentList").rows.length;

	for(i = 1; i < rowCount; i++) 
	{
		var row = document.getElementById("studentList").rows[i];
		var setClass = (row.childNodes[1].innerText == searchCategory) ? "colorcode" : "";
		row.childNodes[1].className = setClass;
	}
}

function clearLS()
{
	localStorage.clear();
	document.getElementById("div").innerHTML = "Local Storage is now empty<br><br><br>";
}

function deleteItem(obj)
{
	var tableItem = JSON.parse(localStorage.getItem(obj.innerText));
	
	var i = obj.parentNode.rowIndex;
    document.getElementById("studentList").deleteRow(i);
	
	localStorage.removeItem(obj.innerText);
	document.getElementById("div").innerHTML = obj.innerText + "- DELETED<br><br><br>";
}

function getPriority(obj)
{
	var rowId = 1*obj.innerText;
	obj = obj.nextSibling;
	var localKey = obj.innerText
	var tableItem = JSON.parse(localStorage.getItem(localKey));
	
	/* change the look of the text. If the row is odd toggle between clicked and '' if even toggle between clicked and slidingText */
	obj.className = (rowId & 1) ?  (obj.className == 'clicked')     ? "" : "clicked" : 
								   (obj.className == 'slidingText') ? "clicked" : "slidingText";

	/*	provide a few more details on the student */
	document.getElementById("div").innerHTML = obj.innerText + "<br>Major: " + tableItem.Category + "<br>gmail: " + tableItem.Priority + "<br>";
	
	/* uppercase or normal case the Major field */
	var priority = obj.nextSibling.nextSibling;
	priority.innerText = (obj.className == 'clicked') ? priority.innerText.toUpperCase() : tableItem.Priority;
}

</script>

</body>
</html>
