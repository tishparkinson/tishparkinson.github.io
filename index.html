<!DOCTYPE html>
<html>
<head>
<link href='https://fonts.googleapis.com/css?family=Special+Elite' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Quattrocento' rel='stylesheet' type='text/css'>
<style>
* {
	background-color: #99ffcc;
	font-family: 'Special Elite', cursive;
}

h1 {
	color: #666666;
	font-size: 50px;
}
.button {
font-size: 20px;
height: 30px;
padding: 10px;
}
.button:hover {
    box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);
    background-color: #ffffcc; 
    color: black;
}


table, th , td  {
	border: 3px solid #ffffcc;
	padding: 15px;
	font-family: 'Quattrocento', serif;
	cursor: default;
}

/*	Highlight every other row of the table-layout */
table tr:nth-child(even)		{ background-color: #ffffff;	}

/*	If the DOM object has a class of highlight make the text blue	*/
.colorcode				{ background-color: #ffffcc;		}

/*	When the DOM object has a class of clicked set the background color to cream	*/
.clicked					{ border: 2px solid #ffffcc;	}

/*	When the DOM object has a class of slidingText move and transform the text	*/
.slidingText				{ -webkit-animation: cssAnimateSlidingText 3s ease 0s 1 forwards }

/*	When the DOM object has a class of wiggle-me on Hover wiggle the text 	*/
#wiggle-me:hover			{ -ms-animation:wiggle .3s 2;-moz-animation:wiggle .3s 2;-webkit-animation:wiggle .3s 2;animation:wiggle .3s 2;}

.animateTheShape {
	width: 10px;
	height: 10px;
	position: relative;
	-webkit-animation-name: animateShape; /* Chrome, Safari, Opera */
	-webkit-animation-duration: 2s; /* Chrome, Safari, Opera */
	animation-name: animateShape;
	animation-duration: 2s;
}

/*  */
@-webkit-keyframes animateShape {
	0%   {background-color:red;}
	25%  {background-color:yellow; border-radius: 50%;}
	50%  {background-color:blue;   border-radius:  0%;}
	75%  {background-color:green;  border-radius: 50%;}
	100% {background-color:cyan;   }
}
/* Standard syntax Safari, Chrome, FireFox */
@keyframes animateShape {
	0%   {background-color:blue;}
	33%  {background-color:green;  border-radius: 50%;}
	66%  {background-color:yellow; border-radius: 0%; }
	100% {background-color:orange; border-radius: 50%;}
}

.grow:hover{
        -webkit-transform: scale(1.3);
        -ms-transform: scale(1.3);
        transform: scale(1.3);
}

#logo{
	animation-duration: 2s;
  animation-name: diagonal-slide;
}

@keyframes diagonal-slide {
  from {
    margin-left: 100%;
    width: 300%; 
  }
  to {
    margin-left: 0%;
    width: 100%;
  }
}
</style>
</head>
<body>

<h1 id="logo">Create your grocery list in less than 60 seconds!</h1>

New? Hit "Create New List" below.<br>
Now you have  a list ready to go.
Don't need all these today?
-Click on the item to delete it
Need to start over?
Hit "Create New List" again. 
It's that simple.
Click the item to delete it from the list.<br><br>
Local storage will be created for each items and their corresponding category.<br><br>
Click on the Clear button to clear the local storage.<br><br>
If you run your mouse over the category button all the items in that category will be highlighted.<br><br>

<input type="button" class="button"  value="Create New List" onclick="getJSON()"/>
<input type="button" class="button"  value="Clear Local Storage" onclick="clearLS()"/>
<input type="button" class="button" value="Add a Row" onclick="addRowInnerHTML(groceryList)"/>

<div id="div"><br><br><br></div>
<div id="id01"></div>
<textarea style="width: 200px; height: 100px; background-color:#ffffcc;" id="addItem" ></textarea>
<textarea style="width: 200px; height: 100px; background-color:#ffffcc;" id="addCategory"></textarea>
<script>
function getJSON()
{
	var xmlhttp = new XMLHttpRequest();
	var url = "commonitems.json";
	
	xmlhttp.onreadystatechange=function()
	{
		if (xmlhttp.readyState == 4 && xmlhttp.status == 200) 
		{
			buildTable(xmlhttp.responseText);
		}
	}
	xmlhttp.open("GET", url, true);
	xmlhttp.send();
}

function buildTable(response) 
{
	document.getElementById("div").innerHTML = "<br><br><br>";
	var prepopulatedlist = JSON.parse(response);
	var out =	"<table id=groceryList> <th>Item</th>"	+
						"<th>Category</th>";

for(i = 0; i < prepopulatedlist.length; i++) 
	{
		out += "<tr>" + 
			"<td onClick='deleteItem(this)'>" + prepopulatedlist[i].item + "</td>" +
			"<td onMouseover='colorcode(this)'>" + prepopulatedlist[i].category + "</td>" +
		"</tr>";		
		//	save the student record to Local Storage. The key will be item, category
		if(typeof(Storage) !== "undefined") 
		{
			localStorage.setItem(prepopulatedlist[i].item + ", " + prepopulatedlist[i].category, JSON.stringify(prepopulatedlist[i]));
		}
		else 
		{
			document.getElementById("div").innerHTML = "Your browser doesn't support local storage"; 
		} 
}
	out += "</table>";
	
	document.getElementById("id01").innerHTML = out;
}

"<td class='slidingText'     onClick='deleteStudent(this)'>" + cit261[i].LastName + ", " + cit261[i].FirstName + "</td>" +


function clearLS()
{
	localStorage.clear();
	document.getElementById("div").innerHTML = "Local Storage is now empty";
}

function deleteItem(obj)
{
	var tableItem = JSON.parse(localStorage.getItem(obj.innerText));
	
	var i = obj.parentNode.rowIndex;
    document.getElementById("groceryList").deleteRow(i);
	
	localStorage.removeItem(obj.innerText);
	document.getElementById("div").innerHTML = "YOU JUST NOW DELETED " + obj.innerText;
}

function addRowInnerHTML(groceryList)
{
  var tblBody = document.getElementById(groceryList).tBodies[0];
  var newRow = tblBody.insertRow(-1);
  var newCell0 = newRow.insertCell(0);
  newCell0.innerHTML = '<input type="input" value="cell 0 - text box" style="color: blue;" />';
  var newCell1 = newRow.insertCell(1);
  newCell1.innerHTML = 'cell 1 - just plain text';
}
function colorCodeCategory(obj)
{
	searchCategory = obj.innerText;
	var rowCount = document.getElementById("groceryList").rows.length;

	for(i = 1; i < rowCount; i++) 
	{
		var row = document.getElementById("groceryList").rows[i];
		var setClass = (row.childNodes[1].innerText == searchCategory) ? "colorcode" : "";
		row.childNodes[1].className = setClass;
	}
}


</script>

</body>
</html>
